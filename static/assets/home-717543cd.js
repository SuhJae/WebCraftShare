import{o as s,a,b as e,d as M,r as o,l as A,h as k,t as d,e as x,u as C,f as m,F as S,m as I,_ as N,i as q,j as z,k as B}from"./XMarkIcon-00ce67d5.js";function F(E,i){return s(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z","clip-rule":"evenodd"})])}const U={class:"bg-slate-200 bg-opacity-40 dark:bg-slate-950 dark:bg-opacity-40 shadow-sm py-3 px-6 backdrop-blur-md sticky top-0 z-50 border-b border-opacity-20 border-slate-400 dark:border-opacity-20 dark:border-slate-200"},V={class:"flex items-center justify-between mx-auto px-4 w-full"},W={class:"flex items-center space-x-2"},R={key:0,class:"h-10 w-auto",src:N,alt:"WebCraftShare Logo"},G={key:1,class:"h-10 w-auto",src:q,alt:"WebCraftShare Logo"},H=e("span",{class:"text-xl font-semibold hidden md:block"},"WebCraftShare",-1),P=e("span",{class:"text-xl font-semibold md:hidden"},"WCS",-1),$={class:"flex items-center space-x-4"},O={class:"flex items-center space-x-4 md:flex hidden text-right",id:"navbarDropdown"},J={class:"text-gray-700 dark:text-white"},K={class:"font-semibold"},Q={class:"text-emerald-500"},X=e("br",null,null,-1),Y={key:0,class:"glass-morphic-window absolute right-6 top-14 md:hidden",id:"smallScreenMenu"},Z={class:"p-4 border-b border-opacity-20 border-slate-400 dark:border-opacity-20 dark:border-slate-200"},ee={class:"font-semibold"},te={class:"text-emerald-500"},oe=e("br",null,null,-1),se={key:0,class:"model fixed inset-0 flex items-start justify-center pt-20"},ae={class:"model__content p-6 glass-morphic-window w-96 absolute top-1/5 left-1/2 transform -translate-x-1/2"},ne={class:"model__header flex justify-between items-center mb-4"},le={class:"model__title text-2xl font-semibold"},re={class:"model__body"},ie=["innerHTML"],ce={key:0,class:"model__footer flex justify-end mt-4"},de={class:"max-w-screen-lg align-middle mx-auto"},ue=e("h1",null,"Test title",-1),me=e("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Expedita adipisci laboriosam, sit, eos voluptatem error voluptate possimus quisquam aliquid numquam odio deserunt voluptates non ea praesentium ipsa exercitationem. Sint, ipsam.",-1),he=[ue,me],pe=M({__name:"home",setup(E){let i=null;const h=o(!1),L=o(""),p=o(!1),_=o(!1),v=o(""),u=o(""),f=o(!1),g=o(!1),b=o(""),w=o("");function j(){h.value=!h.value}function r(t,n){v.value=t,u.value=n,_.value=!0}function c(){f.value||(_.value=!1,g.value=!1,v.value="",u.value="")}function y(){r("Logout","Are you sure you want to logout?"),g.value=!0}async function T(){c();try{if((await(await fetch("/api/logout/",{method:"GET",headers:{"Content-Type":"application/json"}})).json()).success){f.value=!0,r("Returning to home","Successfully logged out");let l=3;i=window.setInterval(()=>{l-=.1,l=parseFloat(l.toFixed(1)),l<=0?(clearInterval(i),window.location.href="/"):u.value=`Successfully logged out!<br>Returning to <a herf="/">home</a> in ${l}s...`},100)}else r("Error","Server returned an error while logging out. If this problem persists, try clearing your browser cache and cookies.")}catch{r("Communication Error","Error occurred while communicating to the server while logging in. Please try again.")}}async function D(){try{const n=await(await fetch("/api/userinfo/",{method:"GET",headers:{"Content-Type":"application/json"}})).json();n.success?(b.value=n.email,w.value=n.name):r("Server Returned Error",n.message)}catch{r("Communication Error","Error occurred while communicating to the server while fetching user info. Please try again.")}}return window.addEventListener("keydown",t=>{t.key==="Escape"&&c()}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{p.value=t.matches}),window.addEventListener("load",()=>{p.value=window.matchMedia("(prefers-color-scheme: dark)").matches,L.value=window.location.origin,D()}),A(()=>{i&&clearInterval(i)}),(t,n)=>(s(),a(S,null,[e("nav",U,[e("div",V,[e("div",W,[p.value?(s(),a("img",R)):(s(),a("img",G)),H,P]),e("div",$,[e("div",O,[e("div",J,[e("span",K,[k("Signed in as "),e("span",Q,d(w.value),1)]),X,e("small",null,d(b.value),1)]),e("button",{class:"red-scary-button",onClick:y},"Sign Out")]),e("button",{class:"md:hidden p-2 hover:backdrop-blur-sm hover:backdrop-opacity-30 hover:bg-slate-300 dark:hover:bg-slate-700 rounded-md",onClick:j},[x(C(F),{class:"h-6 w-6"})]),h.value?(s(),a("div",Y,[e("div",Z,[e("span",ee,[k("Signed in as: "),e("span",te,d(w.value),1)]),oe,e("small",null,d(b.value),1)]),e("button",{class:"w-full text-left p-4 text-red-500 font-semibold hover:text-white hover:bg-red-500 rounded-b-lg",onClick:y}," Sign out ")])):m("",!0)])])]),_.value?(s(),a("div",se,[e("div",{class:"absolute inset-0 bg-white bg-opacity-50 dark:bg-black dark:bg-opacity-50 backdrop-blur-sm",onClick:c}),e("div",ae,[e("div",ne,[e("h2",le,d(v.value),1),f.value?m("",!0):(s(),a("button",{key:0,class:"model__close p-1 hover:bg-slate-200 dark:hover:bg-slate-600 rounded",onClick:c},[x(C(z),{class:"h-6 w-6"})]))]),e("div",re,[e("div",{innerHTML:u.value},null,8,ie)]),g.value?(s(),a("div",ce,[e("button",{class:"just-a-button",onClick:c},"Cancel"),e("button",{class:"red-scary-button ml-2",onClick:T},"Confirm")])):m("",!0)])])):m("",!0),e("div",de,[(s(),a(S,null,I(100,l=>e("div",{key:l,class:"p-4"},he)),64))])],64))}});B(pe).mount("#app");
